<clr-main-container>

  <ukis-global-alert *ngIf="alert" [(alert)]="alert"></ukis-global-alert>

  <ukis-header></ukis-header>

  <!--<nav class="subnav">
</nav>-->


  <div class="content-container" [ngClass]="{'floating':ui.floating}">
    <!-- reverse-->

    <div class="content-area">
      <ukis-ol-map class="map" [store]="AppStoreService" [baselayers]="layerSvc"></ukis-ol-map>
    </div>

    <ukis-mapcontrol class="top-right"></ukis-mapcontrol>


    <clr-vertical-nav clrVerticalNavCollapsible="false" [clr-nav-level]="1">

      <!--<ukis-layerlist [(layers)]="layers"></ukis-layerlist>-->

      <clr-vertical-nav-group [clrVerticalNavGroupExpanded]="true">
        <clr-icon shape="layers" clrVerticalNavIcon></clr-icon>
        Layers
        <clr-vertical-nav-group-children class="padding">

          <div *ngFor="let group of layergroups; index as i; first as isFirst">
            <div class="nav-divider" *ngIf="!isFirst"></div>
            <h5>{{group.name}}</h5>
            <div *ngFor="let layer of group.layers; index as j" [class]="group.inputtype || 'checkbox'">
              <input [type]="group.inputtype || 'checkbox'" [name]="'layer'+i" [id]="'layer'+i + '_' + j" [checked]="layer.visible" (change)="showHideLayerSwitch(group, layer)">
              <label [for]="'layer'+i + '_' + j">{{layer.name}}</label>
                <clr-icon *ngIf="group.removable" shape="trash" [class]="'float-md-right iconButton'" (click)="removeLayer(group, layer)" title="Remove layer"></clr-icon>
            </div>
          </div>
        </clr-vertical-nav-group-children>
      </clr-vertical-nav-group>

      <clr-vertical-nav-group>
        <clr-icon shape="flame" clrVerticalNavIcon></clr-icon>
        Fire
        <clr-vertical-nav-group-children>
          <a clrVerticalNavLink>
            Charmander
          </a>
          <a clrVerticalNavLink>
            Charizard
          </a>
        </clr-vertical-nav-group-children>
      </clr-vertical-nav-group>
      <clr-vertical-nav-group>
        <clr-icon shape="bolt" clrVerticalNavIcon></clr-icon>
        Electric
        <clr-vertical-nav-group-children>
          <a clrVerticalNavLink>
            Pikachu
          </a>
          <a clrVerticalNavLink>
            Raichu
          </a>
        </clr-vertical-nav-group-children>
      </clr-vertical-nav-group>
      <div class="nav-divider"></div>
      <a clrVerticalNavLink (click)="setAlert('info')">
        <clr-icon shape="info-circle" clrVerticalNavIcon></clr-icon>
        alert-info
      </a>
      <a clrVerticalNavLink (click)="setAlert('warning')">
        <clr-icon shape="exclamation-triangle" clrVerticalNavIcon></clr-icon>
        alert-warning
      </a>
      <a clrVerticalNavLink (click)="setAlert('danger')">
        <clr-icon shape="exclamation-circle" clrVerticalNavIcon></clr-icon>
        alert-danger
      </a>

      <div class="nav-divider"></div>

      <clr-vertical-nav-group [clrVerticalNavGroupExpanded]="false">
        <clr-icon shape="map-marker" class="is-solid" clrVerticalNavIcon></clr-icon>
        Map state
        <clr-vertical-nav-group-children class="padding">
          <ukis-mapnavigator></ukis-mapnavigator>
        </clr-vertical-nav-group-children>
      </clr-vertical-nav-group>

      <div class="nav-divider"></div>
      <a clrVerticalNavLink (click)="ui.floating=!ui.floating">
        <clr-icon [attr.shape]="ui.floating?'resize-up':'resize-down'" clrVerticalNavIcon></clr-icon>
        {{ui.floating?'attach':'detach'}}
      </a>

    </clr-vertical-nav>

  </div>
</clr-main-container>
