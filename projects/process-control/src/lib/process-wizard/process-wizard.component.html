<clr-tabs>
  <clr-tab *ngFor="let process of processService.getProcesses()">

    <ng-container *ngIf="process.observeState() | async as state">
      
      <button clrTabLink>
        <ng-container [ngSwitch]="state">
          <div *ngSwitchCase="'unavailable'"           > <clr-icon shape="dot-circle"                       ></clr-icon> {{process.getName()}} </div>
          <div *ngSwitchCase="'available'"             > <clr-icon shape="dot-circle" class="is-highlight"  ></clr-icon> {{process.getName()}} </div>
          <div *ngSwitchCase="'running'"               > <clr-icon shape="dot-circle" class="is-warning"    ></clr-icon> Running {{process.getName()}} ... </div>
          <div *ngSwitchCase="'completedSuccessfully'" > <clr-icon shape="dot-circle" class="is-success"    ></clr-icon> {{process.getName()}} </div>
          <div *ngSwitchDefault                        > <clr-icon shape="dot-circle"                       ></clr-icon> {{process.getName()}} </div>
        </ng-container>
      </button>
  
      <clr-tab-content *clrIfActive="hasFocus(process) | async">
        <ukis-wizard-element 
          [process]="process" 
          (configSubmitted)="onConfigSubmitted($event)" 
          (nextClicked)="focusOnNext($event)" 
          (reconfigureClicked)="onReconfigureClicked($event)"
        ></ukis-wizard-element>
      </clr-tab-content>
      
    </ng-container>

  </clr-tab>

</clr-tabs>